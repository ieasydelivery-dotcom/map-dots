# üöÄ –£–ª—É—á—à–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –ø–æ–∏—Å–∫–∞ Map Dots

## –ü—Ä–æ–±–ª–µ–º–∞
–†–∞–Ω–µ–µ –ø–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–ª –≥–ª–æ–±–∞–ª—å–Ω–æ –∏ –Ω–∞—Ö–æ–¥–∏–ª –º–µ—Å—Ç–∞ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è" –Ω–∞—Ö–æ–¥–∏–ª–∞ –º–µ—Å—Ç–∞ –≤ –ü–æ–ª—å—à–µ –≤–º–µ—Å—Ç–æ –ú–∏–Ω—Å–∫–∞).

## –†–µ—à–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ –ø–æ –≥–æ—Ä–æ–¥–∞–º –ë–µ–ª–∞—Ä—É—Å–∏ —Å –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–º –ø–æ–¥—Ö–æ–¥–æ–º.

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –°–ª–æ–≤–∞—Ä—å –≥–æ—Ä–æ–¥–æ–≤ –ë–µ–ª–∞—Ä—É—Å–∏
- –î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω—ã–π —Å–ª–æ–≤–∞—Ä—å –≥–æ—Ä–æ–¥–æ–≤ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ –∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø–æ–∏—Å–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 14 –æ—Å–Ω–æ–≤–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤: –ú–∏–Ω—Å–∫, –ì–æ–º–µ–ª—å, –í–∏—Ç–µ–±—Å–∫, –ú–æ–≥–∏–ª–µ–≤, –ë—Ä–µ—Å—Ç, –ì—Ä–æ–¥–Ω–æ, –õ–æ–≥–æ–π—Å–∫, –ú–æ–ª–æ–¥–µ—á–Ω–æ, –ù–µ—Å–≤–∏–∂, –°–ª—É—Ü–∫, –î–∑–µ—Ä–∂–∏–Ω—Å–∫, –ë–æ—Ä–∏—Å–æ–≤, –ñ–æ–¥–∏–Ω–æ, –°–º–æ–ª–µ–≤–∏—á–∏

### 2. –§—É–Ω–∫—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≥–æ—Ä–æ–¥–∞
```javascript
function extractCityFromAddress(address)
```
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≥–æ—Ä–æ–¥ –∏–∑ –∞–¥—Ä–µ—Å–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä—É—Å—Å–∫–∏–µ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –≥–æ—Ä–æ–¥–æ–≤
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≥–æ—Ä–æ–¥–∞ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞

### 3. –§—É–Ω–∫—Ü–∏—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —É–ª–∏—Ü—ã
```javascript
function extractStreetFromAddress(address)
```
- –û—Ç–¥–µ–ª—è–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ —É–ª–∏—Ü—ã –æ—Ç –Ω–æ–º–µ—Ä–∞ –¥–æ–º–∞
- –£–±–∏—Ä–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏–∑ –∞–¥—Ä–µ—Å–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∏—Å—Ç—É—é —É–ª–∏—Ü—É –∏ –Ω–æ–º–µ—Ä –¥–æ–º–∞

### 4. –£–ø—Ä–æ—â–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
```javascript
function buildQueryVariants(store, address, cityHint)
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–∏—Å–∫–∞:**
1. **–ú–∞–≥–∞–∑–∏–Ω + –∞–¥—Ä–µ—Å + –≥–æ—Ä–æ–¥** (–æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–ø—Ä–æ—Å)
2. **–ú–∞–≥–∞–∑–∏–Ω + —É–ª–∏—Ü–∞ + –≥–æ—Ä–æ–¥** (–µ—Å–ª–∏ –µ—Å—Ç—å —É–ª–∏—Ü–∞)
3. **–ê–¥—Ä–µ—Å + –≥–æ—Ä–æ–¥** (–µ—Å–ª–∏ –Ω–µ—Ç –º–∞–≥–∞–∑–∏–Ω–∞)
4. **–£–ª–∏—Ü–∞ + –≥–æ—Ä–æ–¥** (–µ—Å–ª–∏ –µ—Å—Ç—å —É–ª–∏—Ü–∞)
5. **–ú–∞–≥–∞–∑–∏–Ω + –≥–æ—Ä–æ–¥** (–¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö –º–∞–≥–∞–∑–∏–Ω–æ–≤ —Å–µ—Ç–∏)
6. **–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å** –∫–∞–∫ –µ—Å—Ç—å

### 5. –õ–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–∏—Å–∫
- –ü–æ–∏—Å–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –≥—Ä–∞–Ω–∏—Ü–∞–º–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `bbox` (bounding box) –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –æ–±–ª–∞—Å—Ç–∏
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ –≥–æ—Ä–æ–¥—É –∏ —É–ª–∏—Ü–µ

## üìã –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

### –î–æ —É–ª—É—á—à–µ–Ω–∏–π:
```
"–ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è –ú–∏–Ω—Å–∫" ‚Üí –ù–∞—Ö–æ–¥–∏–ª –º–µ—Å—Ç–∞ –≤ –ü–æ–ª—å—à–µ
```

### –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:
```
"–ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è –ú–∏–Ω—Å–∫" ‚Üí 
1. –ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è –ú–∏–Ω—Å–∫, –ú–∏–Ω—Å–∫
2. –ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è, –ú–∏–Ω—Å–∫
3. –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è –ú–∏–Ω—Å–∫, –ú–∏–Ω—Å–∫
4. –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è, –ú–∏–Ω—Å–∫
5. –ö–æ—Ä–æ–Ω–∞, –ú–∏–Ω—Å–∫
6. –ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è –ú–∏–Ω—Å–∫
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –∞–ª–≥–æ—Ä–∏—Ç–º–∞:
- `test_algorithm.html` - –û–±—â–∏–π —Ç–µ—Å—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞
- `test_korona_simple.html` - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è "–ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è –ú–∏–Ω—Å–∫"

**–¢–µ—Å—Ç–æ–≤—ã–µ —Å–ª—É—á–∞–∏:**
- –ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è –ú–∏–Ω—Å–∫
- –ì—Ä–∏–Ω –î–∞–Ω–∞ –ú–æ–ª–ª –ú–∏–Ω—Å–∫  
- –ï–≤—Ä–æ–æ–ø—Ç –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ 25 –ú–∏–Ω—Å–∫
- –ë–µ–ª–º–∞—Ä–∫–µ—Ç –ü–æ–±–µ–¥—ã 44 –õ–æ–≥–æ–π—Å–∫
- –ü—Ä–æ—Å—Ç–æ—Ä –î–∑–µ—Ä–∂–∏–Ω—Å–∫–æ–≥–æ 126 –ú–∏–Ω—Å–∫

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å –ø–æ–∏—Å–∫–∞**: –¢–µ–ø–µ—Ä—å –ø–æ–∏—Å–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –≥–æ—Ä–æ–¥–æ–º
‚úÖ **–ü–æ–≤—ã—à–µ–Ω–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å**: –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞ –ª—É—á—à–µ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å**: –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–∂–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚úÖ **–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è**: –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞ –∏ —É–ª–∏—Ü—ã
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –∞–¥—Ä–µ—Å–æ–≤

## üéØ –£–ª—É—á—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç (v2.0)

### –ü—Ä–æ–±–ª–µ–º–∞
- –¢–æ—á–∫–∞ —Å—Ç–æ—è–ª–∞ –Ω–∞ –¥–æ—Ä–æ–≥–µ, –∞ –Ω–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–¥–∞–Ω–∏–∏
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –±—ã–ª–∏ —Å–º–µ—â–µ–Ω—ã –Ω–∞ ~100 –º–µ—Ç—Ä–æ–≤ –æ—Ç –∏—Å—Ç–∏–Ω–Ω–æ–≥–æ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è

### –†–µ—à–µ–Ω–∏–µ
1. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ–∏—Å–∫–∞**: `kind=house` ‚Üí `kind=org` ‚Üí –±–µ–∑ `kind`
2. **–£–≤–µ–ª–∏—á–µ–Ω—ã –±–æ–Ω—É—Å—ã** –∑–∞ —Ç–æ—á–Ω—ã–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è:
   - –ù–æ–º–µ—Ä –¥–æ–º–∞: +15 (–±—ã–ª–æ +10)
   - –£–ª–∏—Ü–∞: +12 (–±—ã–ª–æ +8)
   - –°–µ—Ç—å –º–∞–≥–∞–∑–∏–Ω–∞: +10 (–±—ã–ª–æ +6)
3. **–î–æ–±–∞–≤–ª–µ–Ω –±–æ–Ω—É—Å** –∑–∞ —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞: `house`/`org` = +8
4. **–®—Ç—Ä–∞—Ñ** –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–∏–ø–∞ "—É–ª–∏—Ü–∞" –±–µ–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∑–¥–∞–Ω–∏—è: -5
5. **–£–≤–µ–ª–∏—á–µ–Ω—ã –±–∞–∑–æ–≤—ã–µ –æ—Ü–µ–Ω–∫–∏** —Ç–æ—á–Ω–æ—Å—Ç–∏: `exact=15`, `number=12`, `range=8`

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –¥–æ–ª–∂–Ω—ã —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –∑–¥–∞–Ω–∏–µ, –∞ –Ω–µ –Ω–∞ —Ü–µ–Ω—Ç—Ä —É–ª–∏—Ü—ã
- –¢–æ—á–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ —É–ª—É—á—à–∏—Ç—å—Å—è —Å ~100 –º–µ—Ç—Ä–æ–≤ –¥–æ ~10-20 –º–µ—Ç—Ä–æ–≤

## üìÅ –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

- `script.js` - –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª —Å —É–ª—É—á—à–µ–Ω–Ω—ã–º –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º
- `test_algorithm.html` - –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
- `ALGORITHM_IMPROVEMENTS.md` - –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üöÄ –ó–∞–ø—É—Å–∫

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä: `python -m http.server 8000`
2. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000` –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000/test_algorithm.html` –¥–ª—è –æ–±—â–µ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
4. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000/test_korona_simple.html` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "–ö–æ—Ä–æ–Ω–∞ –ö–∞–ª—å–≤–∞—Ä–∏–π—Å–∫–∞—è –ú–∏–Ω—Å–∫"
5. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000/test_precision.html` –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏
6. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8000/test_accuracy.html` –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–ª—É—á—à–µ–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
